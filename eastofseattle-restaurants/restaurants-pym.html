<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Food Service Inspections</title>

    <script src="https://code.jquery.com/jquery-2.2.4.min.js"
			  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
			  crossorigin="anonymous"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pym/1.3.2/pym.v1.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.1.2/handlebars.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.11/css/dataTables.bootstrap.min.css"/>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.0.2/css/responsive.bootstrap.min.css"/>
	<script type="text/javascript" src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/1.10.11/js/dataTables.bootstrap.min.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/responsive/2.0.2/js/dataTables.responsive.min.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/responsive/2.0.2/js/responsive.bootstrap.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pym/1.3.2/pym.v1.min.js"></script>

    <link rel="stylesheet" href="restaurants.css">

    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1046893-21', 'auto');
    ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->

  </head>
  <body>
    <div class="container">
      <div class="row">
          <div id="facilities_panel" class="panel panel-default">
              <div class="panel-heading">
                <h2 class="panel-title">Health Inspections</h2>
                <form class="form-inline">
                  <div class="form-group">
                    <label for="filterByCity">Select a City</label>
                    <select class="form-control" id="filterByCity">
                      <!--<option value="" disabled selected>Select a City</option>-->
                      <option value="ALGONA">ALGONA</option>
                      <option value="AUBURN">AUBURN</option>
                      <option value="BARING">BARING</option>
                      <option value="BELLEVUE">BELLEVUE</option>
                      <option value="BLACK DIAMOND">BLACK DIAMOND</option>
                      <option value="BOTHELL">BOTHELL</option>
                      <option value="BURIEN">BURIEN</option>
                      <option value="CARNATION">CARNATION</option>
                      <option value="CLYDE HILL">CLYDE HILL</option>
                      <option value="COVINGTON">COVINGTON</option>
                      <option value="DES MOINES">DES MOINES</option>
                      <option value="DUVALL">DUVALL</option>
                      <option value="ENUMCLAW">ENUMCLAW</option>
                      <option value="EVERETT">EVERETT</option>
                      <option value="FALL CITY">FALL CITY</option>
                      <option value="FEDERAL WAY">FEDERAL WAY</option>
                      <option value="HOBART">HOBART</option>
                      <option value="ISSAQUAH">ISSAQUAH</option>
                      <option value="KENMORE">KENMORE</option>
                      <option value="KENT">KENT</option>
                      <option value="KING COUNTY">KING COUNTY</option>
                      <option value="KIRKLAND">KIRKLAND</option>
                      <option value="LAKE FOREST PARK">LAKE FOREST PARK</option>
                      <option value="LYNNWOOD">LYNNWOOD</option>
                      <option value="MAPLE VALLEY">MAPLE VALLEY</option>
                      <option value="MEDINA">MEDINA</option>
                      <option value="MERCER ISLAND">MERCER ISLAND</option>
                      <option value="MILTON">MILTON</option>
                      <option value="MOUNTLAKE TERRACE">MOUNTLAKE TERRACE</option>
                      <option value="MUKILTEO">MUKILTEO</option>
                      <option value="NEWCASTLE">NEWCASTLE</option>
                      <option value="NORMANDY PARK">NORMANDY PARK</option>
                      <option value="NORTH BEND">NORTH BEND</option>
                      <option value="OUT OF KING COUNTY">OUT OF KING COUNTY</option>
                      <option value="PACIFIC">PACIFIC</option>
                      <option value="PRESTON">PRESTON</option>
                      <option value="RAVENSDALE">RAVENSDALE</option>
                      <option value="REDMOND">REDMOND</option>
                      <option value="RENTON">RENTON</option>
                      <option value="SAMMAMISH">SAMMAMISH</option>
                      <option value="SEATAC">SEATAC</option>
                      <option value="SEA TAC">SEA TAC</option>
                      <option value="SEATTLE">SEATTLE</option>
                      <option value="SHORELINE">SHORELINE</option>
                      <option value="SKYKOMISH">SKYKOMISH</option>
                      <option value="SNOQUALMIE">SNOQUALMIE</option>
                      <option value="SNOQUALMIE PASS">SNOQUALMIE PASS</option>
                      <option value="TACOMA">TACOMA</option>
                      <option value="TUKWILA">TUKWILA</option>
                      <option value="VASHON">VASHON</option>
                      <option value="VASHON ISLAND">VASHON ISLAND</option>
                      <option value="WOODINVILLE">WOODINVILLE</option>
                    </select>
                    <a id="getCity" class="btn btn-primary" role="button">Go</a>
                  </div>
                </form>
              </div>
              <div class="panel-body">

                <table id="facilities" class="table table-hover table-condensed" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th class="hide_me">ID</th>
                            <th class="all">Name</th>
                            <th class="all"></th>
                            <th class="min-tablet-p">Address</th>
                            <th class="min-mobile-l">Last Inspection</th>
                        </tr>
                    </thead>

                </table>

              </div><!--end panel-body-->
          </div><!--end panel-->
      </div><!--end row-->

 <!--END TABLE ELEMENTS HTML, BEGIN DETAILS HTML-->

    <div class="row" id="details_row">


    </div><!--end row-->


<!---END DETAIL VIEW HTML, Container is for both elements--->
  </div><!--end container-->

<script id="inspections-template" type="text/x-handlebars-template">

  <div class="panel panel-default" id="details_panel">
            <div class="panel-heading">
                <div class="row">
              <div class="col-sm-9">
                  <h3>{{name}}</h3>
                  <ul class="list-inline locator-list">
                  <li>{{address}}</li>
                  <li>{{city}}</li>
                  </ul>
              </div>
                    <div class="col-sm-3">

                    <a id="returnToTable" class="btn btn-default btn-lg btn-primary return-to-table" role="button">Back to Results</a>
                    </div>

                </div>
            </div><!--end panel-heading-->
            <div class="panel-body">
                <div class="col-sm-12">
                  <h3>Health Inspections</h3>
                </div>
                <div class="col-sm-12">
                  <div class="col-sm-2 hidden-xs">
                    <strong>Date</strong>
                  </div>
                  <div class="col-sm-1 hidden-xs">
                    <strong>Score</strong>
                  </div>
                  <div class="col-sm-2 hidden-xs">
                    <strong>Result</strong>
                  </div>
                  <div class="col-sm-2 hidden-xs">
                      <strong>Closed</strong>
                    </div>
                  <div class="col-sm-3 hidden-xs">
                    <strong>Type</strong>
                  </div>
                  <div class="col-sm-2">
                  </div>
                </div>

                {{#inspections}}
                <div class="col-xs-12 inspection-record">
                    <div class="col-sm-2 col-xs-6">
                    <p class="date">
                      <span class="visible-xs"><strong>Date:</strong></span>
                      <span class="inspection_details date">{{inspection_date}}</span>
                    </p>
                  </div>
                  <div class="col-sm-1 col-xs-6">
                    <p class="score">
                      <span class="visible-xs"><strong>Score:</strong></span>
                      <span class="inspection_details score">{{inspection_score}}</span>
                    </p>
                  </div>
                  <div class="col-sm-2 col-xs-6">
                    <p class="result">
                      <span class="visible-xs"><strong>Result:</strong></span>
                      <span class="inspection_details inspection {{inspection_result}}">{{inspection_result}}</span>
                    </p>
                  </div>
                  <div class="col-sm-2">
                    <p>
                    <span class="visible-xs"><strong>Closure:</strong></span>
                    {{#inspection_closed_business}}
                      <span class="label label-danger">Closed</span>
                    {{/inspection_closed_business}}
                    </p>
                  </div>

                  <div class="col-sm-3 col-xs-6">
                    <p class="type">
                      <span class="visible-xs"><strong>Type:</strong></span>

                      <span class="inspection_details inspection">{{inspection_type}}</span>
                    </p>
                  </div>
                  <div class="col-sm-2">
                  {{#violations}}

                    <a id="{{inspection_serial_num}}" class="btn btn-default btn-xs btn-danger get-violations-button" role="button">Show Violations</a>
                  {{/violations}}
                </div>

                </div><!--end inspection-record-->
                {{/inspections}}
              </div><!--end panel-body-->

</script>

<script id="violations-template" type="text/x-handlebars-template">

  <ul class="list-group">
    {{#violations}}
      <li class="list-group-item {{violation_type}}">
        {{violation_description}}<span class="points"><strong>Points: </strong> {{violation_points}}</span>
      </li>
    {{/violations}}
  </ul>
</script>
<script type="text/javascript" src="js/app.js"></script>
<script>
	var pymChild = new pym.Child();
</script>
</body>
</html>
